{
  "$schema": "http://json-schema.org/draft-04/hyper-schema#",
  "title": "Water Collection",
  "description": "A water collection",
  "type": "object",
  "properties": {
    "id": {
      "description": "Collection id (uuid; no dashes; Set by service) {read only}",
      "readOnly": true,
      "type": "string",
      "pattern": "^[0-9a-fA-F]{32}$"
    },
    "station_id": {
      "description": "Station id (uuid; no dashes; Could be personnel id or IoT id; Set by Reporter)",
      "type": "string",
      "pattern": "^[0-9a-fA-F]{32}$"
    },
    "date_time": {
      "description": "Collection time (ISO 8601; UTC; Set by Reporter)",
      "type": "string",
      "format": "date-time"
    },
    "collection_version": {
      "description": "Collection version (10 digit string; leading zeros okay; Set by Reporter)",
      "type": "string",
      "pattern": "^[0-9]{10}$"
    },
    "collection_type": {
      "description": "(String; Set by Reporter)",
      "type": "string",
      "minLength": 1,
      "maxLength": 256
    },
    "collection_content": {
      "description": "Collection content (water or gas TDB) {String; Set by Reporter)",
      "type": "string",
      "minLength": 1,
      "maxLength": 256
    },
    "collection_quantity": {
      "description": "Quantity (in cubic centimeters; Set by Reporter)",
      "type": "number"
    },
    "longitude": {
      "description": "Longitude (in degrees; Set by Reporter)",
      "type": "number"
    },
    "latitude": {
      "description": "Latitude (in degrees; Set by Reporter)",
      "type": "number"
    },
    "processing_state": {
      "description": "Processing state (fixed set of strings; NOT_STARTED (initial state), IN_PROGRESS, DONE; Set by Server) {read only}",
      "readOnly": true,
      "type": "string",
      "minLength": 1,
      "maxLength": 32
    },
    "measurement_version": {
      "description": "Measurement version (10 digit string; leading zeros okay; Set by Server) {read only}",
      "readOnly": true,
      "type": "string",
      "pattern": "^[0-9]{10}$"
    },
    "measurement_type": {
      "description": "Measurement type (description. e.g. Volumetric Gas; Set by Server) {read only}",
      "readOnly": true,
      "type": "string",
      "minLength": 1,
      "maxLength": 256
    },
    "compound_percentages": {
      "description": "Compound percentages (object array) {read only}",
      "readOnly": true,
      "$ref": "compound_percentages.json"
    }
  },
  "required": [
    "station_id",
    "date_time",
    "collection_version",
    "collection_type",
    "collection_content",
    "collection_quantity",
    "longitude",
    "latitude"
  ]
}